<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      font-family: Arial, sans-serif;
    }
    #residentialBalance {
      font-weight: bold;
    }
  </style>
  <title>Gestão Residencial</title>
</head>
<body>
  <h1>Gestão Residencial</h1>
  
  <label for="billType">Tipo de Conta:</label>
  <select id="billType">
    <option value="energia">Energia</option>
    <option value="gas">Gás</option>
    <option value="agua">Água</option>
    <option value="contaCgd">Conta CGD</option>
    <option value="limpeza">Limpeza</option>
    <option value="manutencao">Manutenção</option>
    <option value="outros">Outros</option>
  </select>

  <label for="amount">Valor:</label>
  <input type="number" id="amount" step="0.01">

  <button onclick="addBill()">Adicionar Conta</button>

  <hr>

  <label for="apartmentNumber">Número do Apartamento:</label>
  <input type="number" id="apartmentNumber" min="1" max="6">

  <label for="membershipFee">Mensalidade (€):</label>
  <input type="number" id="membershipFee" step="0.01">

  <button onclick="addMembership()">Adicionar Mensalidade</button>

  <hr>

  <p>Saldo Total do Residencial: <span id="residentialBalance">0.00</span> €</p>

  <script>
    // Database Arrays
    const billsDatabase = Array(100).fill(0);
    const membershipsDatabase = Array(100).fill(0);

    function addBill() {
      const billType = document.getElementById('billType').value;
      const amount = parseFloat(document.getElementById('amount').value);

      if (!isNaN(amount)) {
        const index = billsDatabase.findIndex(value => value === 0);
        billsDatabase[index] = -amount;
        updateResidentialBalance();
        console.log(`Nova conta adicionada: ${billType} - ${amount} €`);
      }
    }

    function addMembership() {
      const apartmentNumber = document.getElementById('apartmentNumber').value;
      const membershipFee = parseFloat(document.getElementById('membershipFee').value);

      if (!isNaN(membershipFee)) {
        const index = membershipsDatabase.findIndex(value => value === 0);
        membershipsDatabase[index] = membershipFee;
        updateResidentialBalance();
        console.log(`Nova mensalidade adicionada para o apartamento ${apartmentNumber}: ${membershipFee} €`);
      }
    }

    function updateResidentialBalance() {
      const totalBills = billsDatabase.reduce((acc, value) => acc + value, 0);
      const totalMemberships = membershipsDatabase.reduce((acc, value) => acc + value, 0);
      const totalBalance = totalBills + totalMemberships;

      document.getElementById('residentialBalance').textContent = totalBalance.toFixed(2);
    }
  </script>
</body>
</html>
